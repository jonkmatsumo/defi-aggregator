
> genai-server@1.0.0 test
> node --experimental-vm-modules node_modules/.bin/jest --watchAll=false --detectOpenHandles --forceExit server/tests/conversation/manager.test.js

{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.149Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.150Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.152Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.152Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.153Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.153Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.155Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.155Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.159Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.160Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.163Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.164Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.166Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.167Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.169Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.169Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.171Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.172Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.174Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.175Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.178Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.178Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.182Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.183Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.185Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.185Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.187Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.187Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.189Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.190Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.192Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.192Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.194Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.195Z","toolName":"get_gas_prices"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Gas price tool execution failed","network":"ethereum","service":"defi-aggregator","timestamp":"2025-12-09T18:44:16.198Z","transactionType":"transfer"}
{"error":"Service not found: GasPriceAPIService","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"ServiceError: Service not found: GasPriceAPIService\n    at ServiceContainer.get (/Users/jonathan/Documents/git/defi-aggregator/server/src/services/container.js:67:13)\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:154:52)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:147:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:116:7)","timestamp":"2025-12-09T18:44:16.198Z","toolName":"get_gas_prices"}
{"error":"{","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: {\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.202Z","toolName":"failing_tool"}
{"error":"5s:Y,yoh","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: 5s:Y,yoh\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.202Z","toolName":"failing_tool"}
{"error":"JtOeref__d","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: JtOeref__d\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.203Z","toolName":"failing_tool"}
{"error":"=(|5+6?<K","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: =(|5+6?<K\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.204Z","toolName":"failing_tool"}
{"error":"_defineS","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: _defineS\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.204Z","toolName":"failing_tool"}
{"error":"i","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: i\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.205Z","toolName":"failing_tool"}
{"error":"Z","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: Z\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.205Z","toolName":"failing_tool"}
{"error":"#Iamroto#__","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: #Iamroto#__\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.206Z","toolName":"failing_tool"}
{"error":"toString","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: toString\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.207Z","toolName":"failing_tool"}
{"error":"t_","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: t_\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.207Z","toolName":"failing_tool"}
{"error":"64fr#uD@y{(_","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: 64fr#uD@y{(_\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.208Z","toolName":"failing_tool"}
{"error":"_","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: _\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.208Z","toolName":"failing_tool"}
{"error":"h$xR:~~{Z","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: h$xR:~~{Z\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.209Z","toolName":"failing_tool"}
{"error":"!V\\fnd(7","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: !V\\fnd(7\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.209Z","toolName":"failing_tool"}
{"error":"%rTeZxJ+?YB","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: %rTeZxJ+?YB\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.210Z","toolName":"failing_tool"}
{"error":"~&","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: ~&\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.212Z","toolName":"failing_tool"}
{"error":"xLQZJL\\ZpC2","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: xLQZJL\\ZpC2\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.212Z","toolName":"failing_tool"}
{"error":"}t3V}'[eVj[B","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: }t3V}'[eVj[B\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.213Z","toolName":"failing_tool"}
{"error":"\"c:^(X!4","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: \"c:^(X!4\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.214Z","toolName":"failing_tool"}
{"error":"~V\"mM8/|)i0G","level":"error","message":"Tool execution failed","service":"defi-aggregator","stack":"Error: ~V\"mM8/|)i0G\n    at Object.execute (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:212:23)\n    at ToolRegistry._executeWithRetry (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:412:27)\n    at ToolRegistry.executeTool (/Users/jonathan/Documents/git/defi-aggregator/server/src/tools/registry.js:360:33)\n    at ConversationManager.executeToolCalls (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:290:48)\n    at ConversationManager.processMessage (/Users/jonathan/Documents/git/defi-aggregator/server/src/conversation/manager.js:112:36)\n    at /Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:233:28\n    at AsyncProperty.run (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)\n    at asyncRunIt (/Users/jonathan/Documents/git/defi-aggregator/server/node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)\n    at Object.<anonymous> (/Users/jonathan/Documents/git/defi-aggregator/server/tests/conversation/manager.test.js:199:7)","timestamp":"2025-12-09T18:44:16.214Z","toolName":"failing_tool"}
(node:12273) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
FAIL tests/conversation/manager.test.js
  ConversationManager
    Property 11: Tool execution from LLM calls
      ✕ should execute tools when LLM response contains tool calls and integrate results (60 ms)
      ✓ should handle tool execution errors gracefully (14 ms)
      ✓ should handle messages without tool calls normally (4 ms)
      ✓ should maintain conversation context across tool executions (7 ms)
    Tool Integration Context
      ✓ should include tool calls and results in LLM message preparation (1 ms)

  ● ConversationManager › Property 11: Tool execution from LLM calls › should execute tools when LLM response contains tool calls and integrate results

    Property failed after 2 tests
    { seed: 608740356, path: "1:0:0:1:1:1:1:1:1:2:2:2:2:2:2:2:2:2", endOnFailure: true }
    Counterexample: [" ",[{"id":"     ","name":"get_gas_prices","parameters":{"input":" "}},{"id":"     ","name":"test_tool","parameters":{"input":" "}}]," "]
    Shrunk 17 time(s)
    Got error: expect(received).toHaveProperty(path, value)

    Expected path: "success"

    Expected value: true
    Received value: false

      162 |               expect(toolResult).toHaveProperty('toolName', toolCall.name);
      163 |               expect(toolResult).toHaveProperty('parameters', toolCall.parameters);
    > 164 |               expect(toolResult).toHaveProperty('success', true);
          |                                  ^
      165 |               expect(toolResult).toHaveProperty('result');
      166 |               // Force failure to see the value
      167 |               if (typeof toolResult.executionTime !== 'number') {

      at tests/conversation/manager.test.js:164:34
      at AsyncProperty.run (node_modules/fast-check/lib/esm/check/property/AsyncProperty.generic.js:46:28)
      at asyncRunIt (node_modules/fast-check/lib/esm/check/runner/Runner.js:33:21)
      at Object.<anonymous> (tests/conversation/manager.test.js:116:7)
      Hint: Enable verbose mode in order to have the list of all failing values encountered during the run
      at buildError (node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:126:15)
      at asyncThrowIfFailed (node_modules/fast-check/lib/esm/check/runner/utils/RunDetailsFormatter.js:143:11)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 4 passed, 5 total
Snapshots:   0 total
Time:        0.298 s, estimated 1 s
Ran all test suites matching /server\/tests\/conversation\/manager.test.js/i.
